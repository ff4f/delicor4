<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-extend="PaymentScreenWidget">
        <t t-jquery=".paymentlines-container" t-operation="before">
            <t t-if="widget.pos.config.multi_currency">
                <table class='multi-currency'>
                    <colgroup>
                        <col class='due' />
                        <col class='tendered' />
                        <col class='change' />
                        <col class='method' />
                        <col class='controls' />
                    </colgroup>
                    <thead>
                        <tr class='label'>
                            <th>Currency</th>
                            <th>Rate</th>
                            <th>Covert</th>
                            <th>Paid full</th>
                            <th>Add rate</th>
                        </tr>
                        <tr class='paymentline selected'>
                            <td>
                                <select class='select-currency'>
                                    <t t-foreach='widget.pos.currencies' t-as='currency'>
                                        <option t-att-value='currency.id' t-att-selected="currency['id'] ? ((currency['id'] === widget.pos.currency.id) ? true : undefined) : undefined">
                                            <t t-esc='currency.name'/>
                                            (<t t-esc='currency.symbol'/>)
                                        </option>
                                    </t>
                                </select>
                            </td>
                            <td><div class='subentry'><span class="value col-due currency-rate">N/A</span></div></td>
                            <td><div class='subentry'><span class="value col-due currency-covert">N/A</span></div></td>
                            <td><div class='subentry'><span class="value col-due currency-paid-full">N/A</span></div></td>
                            <t t-if="widget.pos.config.multi_currency_update_rate">
                                <td class='update-rate'> <i class='fa fa-edit' /></td>
                            </t>
                        </tr>
                    </thead>
                </table>
            </t>
        </t>
    </t>

    <t t-extend="PaymentScreen-Paymentlines">
        <t t-jquery=".paymentlines >thead >tr >th:eq(0)" t-operation="before">
            <th>Currency</th>
            <th>Currency amount</th>
        </t>
        <t t-jquery=".paymentlines >tbody .paymentline:eq(0) >td:eq(0)" t-operation="before">
            <td class='col-name'>
                <t t-if="line.selected_currency">
                    <t t-esc="line.selected_currency.name"/>
                    (<t t-esc='line.selected_currency.symbol'/>)
                </t>
                <t t-if="!line.selected_currency">
                    N/A
                </t>

            </td>
            <td class='col-name'>
                <t t-esc="widget.format_currency_no_symbol(line.amount_currency)"/>
            </td>
        </t>
        <t t-jquery=".paymentlines >tbody .paymentline:eq(1) >td:eq(0)" t-operation="before">
            <td class='col-name'>
                <t t-if="line.selected_currency">
                    <t t-esc="line.selected_currency.name"/>
                </t>
                <t t-if="!line.selected_currency">
                    N/A
                </t>

            </td>
            <td class='col-name'>
                <t t-esc="widget.format_currency_no_symbol(line.amount_currency)"/>
            </td>
        </t>
    </t>

</templates>
